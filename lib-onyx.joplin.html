<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>lib-onyx.joplin documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Lib-onyx 0.11.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lib-onyx</span></div></div></li><li class="depth-2 branch"><a href="lib-onyx.job-query.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>job-query</span></div></a></li><li class="depth-2 branch current"><a href="lib-onyx.joplin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>joplin</span></div></a></li><li class="depth-2 branch"><a href="lib-onyx.log-subscriber.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log-subscriber</span></div></a></li><li class="depth-2 branch"><a href="lib-onyx.media-driver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>media-driver</span></div></a></li><li class="depth-2 branch"><a href="lib-onyx.peer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>peer</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>persist</span></div></div></li><li class="depth-3"><a href="lib-onyx.persist.atom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom</span></div></a></li><li class="depth-2"><a href="lib-onyx.replica-query-server.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>replica-query-server</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="lib-onyx.joplin.html#var-get-task-map-lifecycle-config"><div class="inner"><span>get-task-map-lifecycle-config</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-joplin-migrations"><div class="inner"><span>joplin-migrations</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-JoplinConfigSchema"><div class="inner"><span>JoplinConfigSchema</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-JoplinDatabaseDescriptor"><div class="inner"><span>JoplinDatabaseDescriptor</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-no-pending-migrations.3F"><div class="inner"><span>no-pending-migrations?</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-supported-plugins"><div class="inner"><span>supported-plugins</span></div></a></li><li class="depth-1"><a href="lib-onyx.joplin.html#var-with-joplin-migrations"><div class="inner"><span>with-joplin-migrations</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">lib-onyx.joplin</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-get-task-map-lifecycle-config"><h3>get-task-map-lifecycle-config</h3><div class="usage"><code>(get-task-map-lifecycle-config lifecycle event k)</code></div><div class="doc"><pre class="plaintext">Tries to get a piece of data in the task map or lifecycle
</pre></div></div><div class="public anchor" id="var-joplin-migrations"><h3>joplin-migrations</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-JoplinConfigSchema"><h3>JoplinConfigSchema</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-JoplinDatabaseDescriptor"><h3>JoplinDatabaseDescriptor</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-no-pending-migrations.3F"><h3>no-pending-migrations?</h3><div class="usage"><code>(no-pending-migrations? event lifecycle)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-supported-plugins"><h3>supported-plugins</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-with-joplin-migrations"><h3>with-joplin-migrations</h3><div class="usage"><code>(with-joplin-migrations)</code><code>(with-joplin-migrations joplin-environment)</code><code>(with-joplin-migrations joplin-environment joplin-config)</code></div><div class="doc"><pre class="plaintext">This task bundle modifier will continously try to apply data migrations
before allowing the task to start.

- joplin-config structure can be discovered from the schema and is specific
to your database(s). It is generally of this structure

{:environments {:dev [{:db {:type :sql
                            :url &apos;jdbc-url&apos;}
                       :migrator &apos;resources/migrators/sql&apos;}]}}

- joplin-environment is a selector for a specific config.
The only valid selector for the above example would be &apos;:dev&apos;.

The datastructure is expected in this form to make interop with the joplin
command line tools simple, since they share an expected shape. More can be
read about Joplin here <a href="https://github.com/juxt/joplin">https://github.com/juxt/joplin</a>.

If you are providing this config data another way, either manually or through
a seperate mechanism, you may elide either-or the joplin-config or
joplin-environment.

This does not apply data seeders.</pre></div></div></div></body></html>